import { useContext } from 'react'
import { CartContext } from '../context/CartContext'

const Checkout = () => {
  const { cartItems } = useContext(CartContext)

  const totalAmount = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0).toFixed(2)

  return (
    <div style={{ padding: '30px' }}>
      <h2>✅ Checkout</h2>

      {cartItems.length === 0 ? (
        <p>Your cart is empty.</p>
      ) : (
        <>
          <ul style={{ listStyle: 'none', padding: 0 }}>
            {cartItems.map (item => (
              <li key={item.id} style={{ marginBottom: '15px', borderBottom: '1px solid #ccc', paddingBottom: '10px' }}>
                <strong>{item.title}</strong><br />
                Quantity: {item.quantity}<br />
                Price: ₹{item.price} × {item.quantity} = ₹{(item.price * item.quantity).toFixed(2)}
              </li>
            ))}
          </ul>

          <h3>Total: ₹{totalAmount}</h3>
          <button style={{ padding: '10px 20px', backgroundColor: '#28a745', color: 'white', border: 'none', cursor: 'pointer' }}>
            Place Order
          </button>
        </>
      )}
    </div>
  )
}

export default Checkout
